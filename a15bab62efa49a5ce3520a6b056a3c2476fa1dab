{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "18ac7be4_14b4dbe2",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "#include \"CborConverter.h\"\n\n#include \u003candroid-base/logging.h\u003e",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 19,
        "endChar": 33
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d774186e_4ab2fdcb",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 27,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Nit:  This makes an unnecessary copy.  param should be a reference.\n\nEven better, I think would be:\n\nfor (auto\u0026 param : keyParams)...",
      "range": {
        "startLine": 27,
        "startChar": 8,
        "endLine": 27,
        "endChar": 42
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9379c272_d1c36d0a",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 62,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "This if statement is unnecessary.  If enum_repetition is empty, the loop won\u0027t execute. Same below.",
      "range": {
        "startLine": 62,
        "startChar": 3,
        "endLine": 62,
        "endChar": 37
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97bd59cb_dfe48661",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 79,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Why use this?",
      "range": {
        "startLine": 79,
        "startChar": 4,
        "endLine": 79,
        "endChar": 20
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f82cca2e_06c88600",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 84,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Define a constant.",
      "range": {
        "startLine": 84,
        "startChar": 37,
        "endLine": 84,
        "endChar": 38
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f121f4f1_bcbf925d",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 100,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Why not Tag?",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 100,
        "endChar": 12
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "820323f2_f9658c5e",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Create a helper function \"getTagType\" or similar, unless one already exists (which seems likely).  Then you won\u0027t need the inline comment, the function name will document the purpose.",
      "range": {
        "startLine": 107,
        "startChar": 4,
        "endLine": 108,
        "endChar": 61
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4de1dc5f_409fd29f",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 111,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Really?  How does this work when enum values have values \u003e\u003d 256?",
      "range": {
        "startLine": 111,
        "startChar": 8,
        "endLine": 111,
        "endChar": 65
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "909d66f5_99459401",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "const std::unique_ptr\u003cItem\u003e\u0026 item \u003d array-\u003eget(i);\n\nI\u0027m kind of surprised this compiles as is.",
      "range": {
        "startLine": 150,
        "startChar": 12,
        "endLine": 150,
        "endChar": 64
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23229daa_6b2ecfde",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 205,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Having a default case is a bad idea.  If the list of tag types is extended, you want the compiler to diagnose the failure to handle the new ones.",
      "range": {
        "startLine": 203,
        "startChar": 0,
        "endLine": 205,
        "endChar": 14
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22c48f4d_53472bcc",
        "filename": "seready/keymaster40/hal/CborConverter.cpp",
        "patchSetId": 6
      },
      "lineNbr": 292,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "In this method and the next three, you need to handle endianness.",
      "range": {
        "startLine": 292,
        "startChar": 20,
        "endLine": 292,
        "endChar": 40
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95c2b42b_12153dbb",
        "filename": "seready/keymaster40/hal/CborConverter.h",
        "patchSetId": 6
      },
      "lineNbr": 18,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Nit:  Use #pragma once, rather than guards",
      "range": {
        "startLine": 18,
        "startChar": 1,
        "endLine": 18,
        "endChar": 7
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4918ca46_8a61b003",
        "filename": "seready/keymaster40/hal/CborConverter.h",
        "patchSetId": 6
      },
      "lineNbr": 26,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "https://engdoc.corp.google.com/eng/doc/devguide/cpp/styleguide.md?cl\u003dhead#Names_and_Order_of_Includes\n\nThis should be:\n\n#include \u003cnumeric\u003e\n#include \u003ciostream\u003e\n\n#include \u003candroid/hardware/keymaster/4.0/IKeymasterDevice.h\u003e\n#include \u003chidl/HidlSupport.h\u003e\n\n#include \u003ccppbor.h\u003e\n#include \u003ccppbor_parse.h\u003e",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 26,
        "endChar": 18
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c95a58ad_38673189",
        "filename": "seready/keymaster40/hal/CborConverter.h",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Don\u0027t use \"using namespace\", especially not in headers.",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 23
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8e9c126_efb44f4c",
        "filename": "seready/keymaster40/hal/CborConverter.h",
        "patchSetId": 6
      },
      "lineNbr": 51,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Why this template?",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 51,
        "endChar": 37
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc4edf36_8b023063",
        "filename": "seready/keymaster40/hal/CborConverter.h",
        "patchSetId": 6
      },
      "lineNbr": 91,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "General comment:  I think it would be cleaner to return std::optional\u003cT\u003e (e.g. std::optional\u003cHmacSharingParameters\u003e throughout all of these methods, rather than using output arguments.",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 91,
        "endChar": 34
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e75a5cb_63b528f2",
        "filename": "seready/keymaster40/hal/CborConverter.h",
        "patchSetId": 6
      },
      "lineNbr": 206,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Why use this variable?  Just return true or return false.",
      "range": {
        "startLine": 206,
        "startChar": 4,
        "endLine": 206,
        "endChar": 21
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "843d4696_afc30a0d",
        "filename": "seready/keymaster40/hal/CborConverter.h",
        "patchSetId": 6
      },
      "lineNbr": 210,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "This is needlessly complicated.  Why bother with the templating, rather than just writing two functions?  I\u0027m assuming you only pass uint64_t or int64_t as \"value\".  If you also use 32-bit integers, you have another problem, because the value may overflow.",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 210,
        "endChar": 5
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a619ab7_6c1076cb",
        "filename": "seready/keymaster40/hal/CommonUtils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 47,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "It would be better to add this to hardware/interfaces/keymaster/4.0/support/include/keymasterV4_0/keymaster_utils.h",
      "range": {
        "startLine": 47,
        "startChar": 23,
        "endLine": 47,
        "endChar": 38
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8a98700_9ecf9303",
        "filename": "seready/keymaster40/hal/CommonUtils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 194,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "This doesn\u0027t get done in the error cases above, causing a memory leak.\n\nUse an auto_ptr instead, so that cleanup occurs on all exit paths.  This bug is present in other functions in this file.",
      "range": {
        "startLine": 194,
        "startChar": 3,
        "endLine": 194,
        "endChar": 24
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6469d01_b7134ba3",
        "filename": "seready/keymaster40/hal/CommonUtils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 201,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "nullptr.",
      "range": {
        "startLine": 201,
        "startChar": 22,
        "endLine": 201,
        "endChar": 26
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8fa7107_947e6571",
        "filename": "seready/keymaster40/hal/CommonUtils.h",
        "patchSetId": 6
      },
      "lineNbr": 27,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2022-06-03T14:42:27Z",
      "side": 1,
      "message": "Nit:\n\nnamespace keymaster::V4_0::javacard {\n...",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 20
      },
      "revId": "a15bab62efa49a5ce3520a6b056a3c2476fa1dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}