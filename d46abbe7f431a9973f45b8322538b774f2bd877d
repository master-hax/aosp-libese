{
  "comments": [
    {
      "key": {
        "uuid": "b4fd3821_68d2c387",
        "filename": "apps/weaver/card/src/com/android/weaver/core/CoreSlots.java",
        "patchSetId": 1
      },
      "lineNbr": 151,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2017-04-18T23:26:48Z",
      "side": 1,
      "message": "To reduce the (already likely negligible) possibility that an attacker can tell the difference between success and failure and quickly cut power, I\u0027d do no work inside the transaction other than checking result and writing mFailureCount. Util.arrayCompare should be constant-time so this is already an incredibly narrow needle to thread, but we may as well make it as narrow as possible.",
      "range": {
        "startLine": 151,
        "startChar": 15,
        "endLine": 151,
        "endChar": 75
      },
      "revId": "d46abbe7f431a9973f45b8322538b774f2bd877d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a401bf54_04c38ccd",
        "filename": "apps/weaver/card/src/com/android/weaver/core/CoreSlots.java",
        "patchSetId": 1
      },
      "lineNbr": 151,
      "author": {
        "id": 1139038
      },
      "writtenOn": "2017-04-19T07:03:19Z",
      "side": 1,
      "message": "I have removed the transaction. Now:\n 1. the number of failures is updated\n 2. the timer is started if needed (there is a possible time difference here, I don\u0027t know the implementation)\n 3. value is copied out (constant time but that doesn\u0027t really matter as the interesting stuff has happened)",
      "parentUuid": "b4fd3821_68d2c387",
      "range": {
        "startLine": 151,
        "startChar": 15,
        "endLine": 151,
        "endChar": 75
      },
      "revId": "d46abbe7f431a9973f45b8322538b774f2bd877d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fdcf433_b8a9b855",
        "filename": "apps/weaver/card/src/com/android/weaver/core/CoreSlots.java",
        "patchSetId": 1
      },
      "lineNbr": 151,
      "author": {
        "id": 1043663
      },
      "writtenOn": "2017-04-19T13:11:38Z",
      "side": 1,
      "message": "It only needs to be constant-time up to updating the number of failures. Once that update has been made, the attacker can gain nothing by cutting power (once the timer code is in place at the top), so starting the timer possibly being non-constant doesn\u0027t matter.",
      "parentUuid": "a401bf54_04c38ccd",
      "range": {
        "startLine": 151,
        "startChar": 15,
        "endLine": 151,
        "endChar": 75
      },
      "revId": "d46abbe7f431a9973f45b8322538b774f2bd877d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b500bbf1_2beeb7ba",
        "filename": "apps/weaver/card/src/com/android/weaver/core/CoreSlots.java",
        "patchSetId": 1
      },
      "lineNbr": 151,
      "author": {
        "id": 1139038
      },
      "writtenOn": "2017-04-19T13:25:36Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3fdcf433_b8a9b855",
      "range": {
        "startLine": 151,
        "startChar": 15,
        "endLine": 151,
        "endChar": 75
      },
      "revId": "d46abbe7f431a9973f45b8322538b774f2bd877d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}