# Mobile Driving License (mDL) Applets

This directory contains the implementation of the mDL specifications (ISO
18013-5: Mobile driving licence (mDL) application specifications). These applets
are JavaCard 3.0.5 compliant and executes in a secure
element.

# Supported Features!

- NDEF Tag Applet: Supports the mDL Device Engagement using NFC T4T protocols.
- Presentation Applet: Supports the presentation of mDL to a compliant card
  reader.
- Provisioning Applet: Supports Direct Access mDL credential provisioning on
  a secure Element, as defined by identity credential component/framework
  in https://github.com/openwallet-foundation-labs/identity-credential.

# Not supported features

- These applets only support NFC protocol based direct access mDL provisioning
  and presentation functionality.

# Design Notes

## NDEF Tag Applet:

- Main functionality of this applet is to support mDL specification's section
  8.2.2.1: Device Engagement using NFC, which is uses T4T protocols.
- As part of this functionality, this applet returns the capabilities container
  and mDL specific NDEF File to the reader.
- This NDEF File is generated by the Presentation Applet and NDEF Tag Applet
  gets that using the MdlService Shareable interface.

## Presentation Applet:

- Main functionality of this applet is to support mDL specification's section
  8.3: Device Retrieval and 9.1: Security Mechanisms.
- It supports Provisioning through MdlPresentationPkgStore shareable interface.
- It also supports device engagement through MdlService shareable interface,
  where it returns NDEF file. This file has mostly static data and a
  dynamically generated ephemeral EC public key.

## Provisioning Applet:

- Main functionality of this applet is to support provisioning of the directly
  accessible credential data.
- Unlike NDEF Tag Applet and Presentation Applet, which are executed when NFC
  reader discovers the secure element as type 4 tag, this applet is executed
  when provisioning application in identity credential application framework
  wants to provision the credential data which can directly accessed by NFC
  reader at a later stage.
- It uses MdlPresentationPkgStore shareable interface to store the data in
  presentation applet.
- Provisioning functionality uses OMAPI subsystem from Android system software
  to communicate with the Secure Element.